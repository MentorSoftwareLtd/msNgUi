/**
 * msngui
 * @version v0.0.3 - 2014-12-20
 * @link https://github.com/MentorSoftwareLtd/msNgUi
 * @author Miroslaw Dylag (miroslaw.dylag@mentorsoftwareltd.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(){"use strict";angular.module("ms.NgUi",["ms.NgUi.tree","ms.NgUi.treeGrid"]),angular.module("ms.NgUi.tree",[]).service("msTreeService",function(){console.log("msTreeService");var e={},n={};return n.select=function(n,l){console.log(l),e[l]&&e[l].removeClass("selected"),e[l]=n,e[l].addClass("selected")},n}).directive("msTree",function(){return{template:'<tree-node-element ng-repeat="node in tree"></tree-node-element>',replace:!0,transclude:!0,restrict:"EA",scope:{treeId:"=",tree:"=ngModel",folderType:"=",fileType:"=",hovering:"=",classExpanded:"@",classCollapsed:"@",classFile:"@",classParent:"@",classLeaf:"@",select:"&onSelect",children:"="}}}).factory().directive("treeNodeElement",["$compile","msTreeService",function(e,n){return{restrict:"E",replace:!0,templateUrl:"tree/tree.tpl.html",link:function(l,s,t){var a={};console.log(l,s,t),a.folderType=t.folderType||"folder",a.fileType=t.fileType||"file",a.onSelect=t.onSelect,a.treeId=t.treeId,l.classCollapsed=l.$parent.classCollapsed,l.classFile=l.$parent.classFile,l.classExpanded=l.$parent.classExpanded,l.classParent=l.$parent.classParent,l.classLeaf=l.$parent.classLeaf,l.expanded=!0;if(function(e){s.on("click",function(l){var t=s.find("li");if(t&&t.toggleClass("ng-hide"),e.type==a.fileType){var r=s.find("span");n.select(r,a.treeId)}l.stopPropagation()})}(l.node),l.nodeClicked=function(e,n){function s(e){angular.forEach(e.nodes,function(e){e.hide=!e.hide,s(e)})}console.log(n),l.expanded=!l.expanded,n.type==a.fileType&&angular.isDefined(l[a.onSelect])&&l[a.onSelect](n),s(n)},l.isFolder=function(e){return e.type==a.folderType},l.isFile=function(e){return e.type==a.fileType},l.isExpanded=function(){return l.expanded},l.hasChildren=function(e){return e.nodes&&e.nodes.length>0},l.isClassExpanded=function(){return angular.isDefined(t.classExpanded)},l.isClassCollapsed=function(){return angular.isDefined(a.classCollapsed)},l.isClassFile=function(){return angular.isDefined(a.classFile)},l.getClassExpanded=function(){return t.classExpanded},l.getClassCollapsed=function(){return t.classCollapsed},l.getClassFile=function(){return t.classFile},l.isLeaf=function(e){return e.nodes&&0==e.nodes.length?!0:!1},l.node&&l.node.nodes&&l.node.nodes.length>0){var r="";angular.isDefined(a.onSelect)&&(r+=' data-on-select="'+a.onSelect+'"'),angular.isDefined(a.treeId)&&(r+=' data-tree-id="'+a.treeId+'"'),angular.isDefined(t.folderType)&&(r+=' data-folder-type="'+t.folderType+'"'),angular.isDefined(t.fileType)&&(r+=' data-file-type="'+t.fileType+'"'),angular.isDefined(t.classExpanded)&&(r+=' data-class-expanded="'+t.classExpanded+'"'),angular.isDefined(t.classCollapsed)&&(r+=' data-class-collapsed="'+t.classCollapsed+'"'),angular.isDefined(t.classFile)&&(r+=' data-class-file="'+t.classFile+'"'),angular.isDefined(t.classParent)&&(r+=' data-class-parent="'+t.classParent+'"'),angular.isDefined(t.classLeaf)&&(r+=' data-class-leaf="'+t.classLeaf+'"');var o=e('<ul><ms-tree ng-model="node.nodes"'+r+"></ms-tree></ul>")(l);s.append(o)}}}}]),angular.module("ms.NgUi.tree2",[]).directive("tree2",["$compile",function(e){return{replace:!0,transclude:!0,restrict:"A",scope:{tree:"=ngModel",folderType:"=",fileType:"=",hovering:"=",select:"&onSelect",classCollapse:"=",classExpand:"=",classFile:"=",classDirectory:"="},controler:function(){},link:function(n){var l=e('<ul><ms-node2 ng-model="node.nodes"'+childNodeAttr+"></ms-node2></ul>")(n);elm.append(l)}}}]).directive("msNode2",function(){return{link:function(e){var n=$compile('<ul><ms-node2 ng-model="node.nodes"'+childNodeAttr+"></ms-node2></ul>")(e);elm.append(n)}}});angular.module("ms.NgUi.treeGrid",[]).directive("msTreeGrid",function(){return{restrict:"A",scope:{model:"=ngModel",fields:"=?"},controller:["$scope","$compile","$parse","$timeout","$templateCache",function(e,n,l,s){this.$compile=n,this.$parse=l,this.$timeout=s,this.addRow=function(){console.log()},console.log("Ctrl",this,e)}],template:function(e,n){console.log("template",e.children(),n)},link:function(e,n,l,s){console.log("Ctrl 2",s,l);var t=angular.element("<tbody></tbody>");angular.forEach(e.fields,function(e){t.append("<th>"+e+"</th>")}),n.append(t),angular.forEach(e.model,function(e,n){t.append("<tr></tr>"),console.log(n,e)})}}}).directive("treeGridRow",function(){return{restrict:"E",require:"^treeGrid",template:"<tr></tr>",link:function(e){console.log("Treegrid row",e)}}})}(window,document);
//# sourceMappingURL=msngui.min.js.map