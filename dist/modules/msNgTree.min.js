/**
 * msngui
 * @version v0.0.3 - 2014-12-17
 * @link https://github.com/MentorSoftwareLtd/msNgUi
 * @author Miroslaw Dylag (miroslaw.dylag@mentorsoftwareltd.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("ms.NgUi.tree",[]).service("msTreeService",function(){console.log("msTreeService");var e,n={};return n.select=function(n){e&&e.removeClass("selected"),e=n,e.addClass("selected")},n}).directive("msTree1",function(){}).directive("msTree",function(){return{template:'<tree-node-element ng-repeat="node in tree"></tree-node-element>',replace:!0,transclude:!0,restrict:"EA",scope:{tree:"=ngModel",folderType:"=",fileType:"=",hovering:"=",classExpanded:"@",classCollapsed:"@",classFile:"@",classParent:"@",classLeaf:"@",select:"&onSelect",children:"="}}}).factory().directive("treeNodeElement",["$compile","msTreeService",function(e,n){return{restrict:"E",replace:!0,templateUrl:"tree/tree.tpl.html",link:function(l,a,s){var t={};t.folderType=s.folderType||"folder",t.fileType=s.fileType||"file",t.onSelect=s.onSelect,l.classCollapsed=l.$parent.classCollapsed,l.classFile=l.$parent.classFile,l.classExpanded=l.$parent.classExpanded,l.classParent=l.$parent.classParent,l.classLeaf=l.$parent.classLeaf,l.expanded=!0;if(a.on("click",function(e){var l=a.find("li");l&&l.toggleClass("ng-hide");var s=a.find("span");n.select(s),e.stopPropagation()}),l.nodeClicked=function(e){function n(e){angular.forEach(e.nodes,function(e){e.hide=!e.hide,n(e)})}l.expanded=!l.expanded,e.type==t.fileType&&(console.log("Node clicked",e,t,l[t.onSelect]),angular.isDefined(l[t.onSelect])&&l[t.onSelect](e)),n(e)},l.isFolder=function(e){return e.type==t.folderType},l.isFile=function(e){return e.type==t.fileType},l.isExpanded=function(){return l.expanded},l.hasChildren=function(e){return e.nodes&&e.nodes.length>0},l.isClassExpanded=function(){return angular.isDefined(s.classExpanded)},l.isClassCollapsed=function(){return angular.isDefined(t.classCollapsed)},l.isClassFile=function(){return angular.isDefined(t.classFile)},l.getClassExpanded=function(){return s.classExpanded},l.getClassCollapsed=function(){return s.classCollapsed},l.getClassFile=function(){return s.classFile},l.isLeaf=function(e){return e.nodes&&0==e.nodes.length?!0:!1},l.node&&l.node.nodes&&l.node.nodes.length>0){var d="";angular.isDefined(t.onSelect)&&(d+=' data-on-select="'+t.onSelect+'"'),angular.isDefined(s.folderType)&&(d+=' data-folder-type="'+s.folderType+'"'),angular.isDefined(s.fileType)&&(d+=' data-file-type="'+s.fileType+'"'),angular.isDefined(s.classExpanded)&&(d+=' data-class-expanded="'+s.classExpanded+'"'),angular.isDefined(s.classCollapsed)&&(d+=' data-class-collapsed="'+s.classCollapsed+'"'),angular.isDefined(s.classFile)&&(d+=' data-class-file="'+s.classFile+'"'),angular.isDefined(s.classParent)&&(d+=' data-class-parent="'+s.classParent+'"'),angular.isDefined(s.classLeaf)&&(d+=' data-class-leaf="'+s.classLeaf+'"');var r=e('<ul><ms-tree ng-model="node.nodes"'+d+"></ms-tree></ul>")(l);a.append(r)}}}}]);
//# sourceMappingURL=msNgTree.min.js.map