/**
 * msngui
 * @version v0.0.3 - 2014-12-15
 * @link https://github.com/MentorSoftwareLtd/msNgUi
 * @author Miroslaw Dylag (miroslaw.dylag@mentorsoftwareltd.com)
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
angular.module("ms.NgUi.tree",[]).directive("msTree",function(){return{template:'<node ng-repeat="node in tree"></node>',replace:!0,transclude:!0,restrict:"EA",scope:{tree:"=ngModel",folderType:"=",fileType:"=",hovering:"=",classExpanded:"@",classCollapsed:"@",classFile:"@",classParent:"@",classLeaf:"@",select:"&onSelect"}}}).factory().directive("node",["$compile",function(e){return{restrict:"E",replace:!0,templateUrl:"tree/tree.tpl.html",link:function(a,l,s){var n={};if(n.folderType=s.folderType||"folder",n.fileType=s.fileType||"file",a.classCollapsed=a.$parent.classCollapsed,a.classFile=a.$parent.classFile,a.classExpanded=a.$parent.classExpanded,a.classParent=a.$parent.classParent,a.classLeaf=a.$parent.classLeaf,console.log(a),a.expanded=!0,l.on("click",function(e){var a=l.find("li");a.toggleClass("ng-hide"),e.stopPropagation()}),a.nodeClicked=function(e){function l(e){angular.forEach(e.nodes,function(e){e.hide=!e.hide,l(e)})}console.log(a.expanded),a.expanded=!a.expanded,l(e)},a.isFolder=function(e){return e.type==n.folderType},a.isFile=function(e){return e.type==n.fileType},a.isExpanded=function(){return a.expanded},a.hasChildren=function(e){return e.nodes&&e.nodes.length>0},a.isClassExpanded=function(){return angular.isDefined(s.classExpanded)},a.isClassCollapsed=function(){return angular.isDefined(n.classCollapsed)},a.isClassFile=function(){return angular.isDefined(n.classFile)},a.getClassExpanded=function(){return s.classExpanded},a.getClassCollapsed=function(){return console.log(s.classCollapsed),s.classCollapsed},a.getClassFile=function(){return s.classFile},a.isLeaf=function(e){return e.nodes&&0==e.nodes.length?!0:!1},a.node&&a.node.nodes&&a.node.nodes.length>0){var d="";angular.isDefined(s.folderType)&&(d+=' data-folder-type="'+s.folderType+'"'),angular.isDefined(s.fileType)&&(d+=' data-file-type="'+s.fileType+'"'),angular.isDefined(s.classExpanded)&&(d+=' data-class-expanded="'+s.classExpanded+'"'),angular.isDefined(s.classCollapsed)&&(d+=' data-class-collapsed="'+s.classCollapsed+'"'),angular.isDefined(s.classFile)&&(d+=' data-class-file="'+s.classFile+'"'),angular.isDefined(s.classParent)&&(d+=' data-class-parent="'+s.classParent+'"'),angular.isDefined(s.classLeaf)&&(d+=' data-class-leaf="'+s.classLeaf+'"');var r=e('<ul><ms-tree ng-model="node.nodes"'+d+"></ms-tree></ul>")(a);l.append(r)}}}}]);
//# sourceMappingURL=msNgTree.min.js.map