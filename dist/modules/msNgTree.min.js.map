{"version":3,"sources":["tree/msNgTree.js"],"names":[],"mappings":"eAOY,sCACI,2BAEA,kDACA,cACA,WACA,YAEA,KAAA,WACA,WAAA,IACA,SAAA,IACJ,SAAA,IACJ,cAAA,IACJ,eAAA,IACS,UAAO,IACZ,YAAA,IACI,UAAA,IACA,OAAA,4CAII,WAAA,SAAA,mBAEA,aACA,cACA,0BAEA,SAAA,EAAA,EAAA,GACA,GAAA,SACA,EAAA,WAAA,EAAA,YAAA,SACA,EAAA,SAAA,EAAA,UAAA,iDAEA,EAAA,UAAA,EAAA,QAAA,YACI,cAAA,EAAA,QAAA,gBACA,YAAA,EAAA,QAAA,cACA,UAAA,EAAA,QAAA,UACJ,QAAA,IAAA,mBAGI,GAAA,QAAA,SAAA,GACA,GAAA,GAAA,EAAA,KAAA,+BAEA,EAAA,kCAGQ,SAAA,GAIR,QAAA,GAAA,GACA,QAAA,QAAA,EAAA,MAAA,SAAA,GACJ,EAAA,MAAA,EAAA,oBALQ,IAAA,EAAA,iCAWJ,EAAA,MAGA,SAAA,SAAA,GACJ,MAAA,GAAA,MAAA,EAAA,cAEI,OAAA,SAAA,GACJ,MAAA,GAAA,MAAA,EAAA,YAEI,WAAA,WACJ,MAAA,GAAA,YAEI,YAAA,SAAA,GACJ,MAAA,GAAA,OAAA,EAAA,MAAA,OAAA,KAEI,gBAAA,WACJ,MAAA,SAAA,UAAA,EAAA,8CAGI,MAAA,SAAA,UAAA,EAAA,iBAEJ,EAAA,YAAA,WACI,MAAA,SAAA,UAAA,EAAA,YAEJ,EAAA,iBAAA,WAEI,MAAA,GAAA,8CAIJ,qCAAA,EAAA,+BAEQ,WACJ,MAAA,GAAA,WAIJ,EAAA,OAAA,SAAA,GACI,MAAA,GAAA,OAAA,GAAA,EAAA,MAAA,QACA,GAEA,GAGA,EAAA,MAAA,EAAA,KAAA,OAAA,EAAA,KAAA,MAAA,OAAA,EAAA,CACA,GAAA,GAAA,qCAEI,GAAA,sBAAA,EAAA,WAAA,KAEJ,QAAA,UAAA,EAAA,mDAGA,QAAA,UAAA,EAAA,kEAIA,QAAA,UAAA,EAAA,qEAIA,QAAA,UAAA,EAAA,sDAIA,QAAA,UAAA,EAAA,eAEA,GAAA,uBAAA,EAAA,YAAA,KAEA,QAAA,UAAA,EAAA,aAER,GAAA,qBAAA,EAAA,UAAA","file":"msNgTree.min.js","sourcesContent":["angular.module('ms.NgUi.tree',[])\n    .directive('msTree', function() {\n        return {\n            template: '<node ng-repeat=\"node in tree\"></node>',\n            replace: true,\n            transclude: true,\n            restrict: 'EA',\n            scope: {\n                tree: '=ngModel',\n                folderType:\"=\",\n                fileType:\"=\",\n                hovering: \"=\",//branch, leaf\n                classExpanded:  \"@\",\n                classCollapsed:  \"@\",\n                classFile: \"@\",\n                classParent: \"@\",\n                classLeaf: \"@\",\n                select : \"&onSelect\"\n            }\n        };\n    }).factory(\n).directive('node', function($compile) {\n        return {\n            restrict: 'E',\n            replace: true,\n            templateUrl: 'tree/tree.tpl.html',\n\n            link: function(scope, elm, attrs, controller) {\n                var options = {};\n                options.folderType = attrs.folderType || \"folder\" ;\n                options.fileType = attrs.fileType || \"file\" ;\n                scope.classCollapsed=scope.$parent.classCollapsed;\n                scope.classFile=scope.$parent.classFile;\n                scope.classExpanded=scope.$parent.classExpanded;\n                scope.classParent=scope.$parent.classParent;\n                scope.classLeaf=scope.$parent.classLeaf;\n                console.log(scope);\n                scope.expanded = true;\n\n                elm.on('click', function(e) {\n                    var children = elm.find('li');\n                    children.toggleClass('ng-hide');\n                    e.stopPropagation();\n                })\n\n                scope.nodeClicked = function(node) {\n                    console.log(scope.expanded);\n                    scope.expanded=!scope.expanded;\n\n                    function toggleChildren(child) {\n                        angular.forEach(child.nodes, function(child) {\n                            child.hide=!child.hide;\n                            toggleChildren(child);\n                        });\n\n\n                    }\n                    toggleChildren(node);\n                };\n\n                scope.isFolder = function(node) {\n                    return node.type == options.folderType;\n                }\n                scope.isFile = function(node) {\n                    return node.type == options.fileType;\n                }\n                scope.isExpanded = function(node) {\n                    return scope.expanded;\n                }\n                scope.hasChildren = function(node) {\n                    return (node.nodes && node.nodes.length > 0);\n                }\n                scope.isClassExpanded = function() {\n                    return angular.isDefined(attrs.classExpanded);\n                }\n                scope.isClassCollapsed = function() {\n                    return angular.isDefined(options.classCollapsed);\n                }\n                scope.isClassFile = function() {\n                    return angular.isDefined(options.classFile);\n                }\n                scope.getClassExpanded = function() {\n\n                    return attrs.classExpanded;\n                }\n                scope.getClassCollapsed = function() {\n                    console.log(attrs.classCollapsed);\n                    return attrs.classCollapsed;\n                }\n                scope.getClassFile = function() {\n                    return attrs.classFile;\n                }\n\n\n                scope.isLeaf = function(_data) {\n                    if (_data.nodes && _data.nodes.length == 0) {\n                        return true;\n                    }\n                    return false;\n                };\n\n                if (scope.node && scope.node.nodes &&  scope.node.nodes.length > 0) {\n                    var childNodeAttr=\"\";\n                    if (angular.isDefined(attrs.folderType)) {\n                        childNodeAttr+=' data-folder-type=\"' + attrs.folderType + '\"';\n                    }\n                    if (angular.isDefined(attrs.fileType)) {\n                        childNodeAttr+=' data-file-type=\"' + attrs.fileType + '\"';\n                    }\n                    if (angular.isDefined(attrs.classExpanded)) {\n\n                        childNodeAttr+=' data-class-expanded=\"' + attrs.classExpanded + '\"';\n                    }\n                    if (angular.isDefined(attrs.classCollapsed)) {\n\n                        childNodeAttr+=' data-class-collapsed=\"' + attrs.classCollapsed + '\"';\n                    }\n                    if (angular.isDefined(attrs.classFile)) {\n\n                        childNodeAttr+=' data-class-file=\"' + attrs.classFile + '\"';\n                    }\n                    if (angular.isDefined(attrs.classParent)) {\n\n                        childNodeAttr+=' data-class-parent=\"' + attrs.classParent + '\"';\n                    }\n                    if (angular.isDefined(attrs.classLeaf)) {\n\n                        childNodeAttr+=' data-class-leaf=\"' + attrs.classLeaf + '\"';\n                    }\n\n                    var childNode = $compile('<ul><ms-tree ng-model=\"node.nodes\"' + childNodeAttr+'></ms-tree></ul>')(scope)\n\n                    elm.append(childNode);\n                }\n            }\n        };\n    });"],"sourceRoot":"/source/"}